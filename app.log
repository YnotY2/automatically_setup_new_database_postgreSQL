2024-02-23 14:11:29,223 - INFO - [96mAttempting to grant permissions to needed files, for code to run correctly[0m
2024-02-23 14:11:29,223 - INFO - [96mExecuting grant_neccessary_permissions_sh_python3_files.sh script[0m
2024-02-23 14:11:29,223 - ERROR - Error: [Errno 13] Permission denied: './services_sh/grant_neccessary_permissions_sh_python3_files.sh'
2024-02-23 14:13:42,784 - INFO - [96mAttempting to grant permissions to needed files, for code to run correctly[0m
2024-02-23 14:13:42,784 - INFO - [96mExecuting grant_neccessary_permissions_sh_python3_files.sh script[0m
2024-02-23 14:13:42,787 - ERROR - Error: ./services_sh/grant_neccessary_permissions_sh_python3_files.sh: line 10: cd: ../services_python3: No such file or directory

2024-02-23 14:14:19,380 - INFO - [96mAttempting to grant permissions to needed files, for code to run correctly[0m
2024-02-23 14:14:19,380 - INFO - [96mExecuting grant_neccessary_permissions_sh_python3_files.sh script[0m
2024-02-23 14:14:19,382 - ERROR - Error: ./services_sh/grant_neccessary_permissions_sh_python3_files.sh: line 10: cd: ./services_python3: No such file or directory

2024-02-23 14:15:07,391 - INFO - [96mAttempting to grant permissions to needed files, for code to run correctly[0m
2024-02-23 14:15:07,391 - INFO - [96mExecuting grant_neccessary_permissions_sh_python3_files.sh script[0m
2024-02-23 14:15:07,393 - ERROR - Error: ./services_sh/grant_neccessary_permissions_sh_python3_files.sh: line 10: cd: ./services_python: No such file or directory

2024-02-23 14:15:44,558 - INFO - [96mAttempting to grant permissions to needed files, for code to run correctly[0m
2024-02-23 14:15:44,558 - INFO - [96mExecuting grant_neccessary_permissions_sh_python3_files.sh script[0m
2024-02-23 14:15:44,561 - INFO - [92mPermission granted to the needed files successfully.[0m
2024-02-23 15:49:30,504 - INFO - [96mStarting[0m[93m main.py[0m [96m python3 script ...[0m
2024-02-23 15:49:30,504 - INFO - [96mCalling[0m[93m start_posgresql.py[0m [96mservice -function[0m
2024-02-23 15:49:30,504 - INFO - [96mExecuting start_postgresql.sh script[0m
2024-02-23 15:49:30,518 - INFO - [92mPostgreSQL service started successfully.[0m
2024-02-23 15:49:30,519 - INFO - [96mCalling[0m[93m create_new_postgresql_user.py[0m [96mservice -function[0m
2024-02-23 15:49:30,519 - INFO - [94mAttempting to create a new database user with corresponding password:[0m
2024-02-23 15:49:30,519 - INFO - [96mUser:            [95mproject_google_reviews_usr[0m
2024-02-23 15:49:30,519 - INFO - [96mPassword:        [95mOo51knSSV3OSwfuy8WFu[0m
2024-02-23 15:49:34,991 - INFO - [92mUser[0m[95m  project_google_reviews_usr[0m[92m created successfully.[0m
2024-02-23 15:49:34,991 - INFO - [94mAttempting to confirm creation of a new database user:[0m
2024-02-23 15:49:34,991 - INFO - [96mUser:            [95mproject_google_reviews_usr[0m
2024-02-23 15:49:41,882 - ERROR - [91mError occurred: Command 'psql -U project_google_reviews_usr -W' returned non-zero exit status 2.[0m
2024-02-23 15:49:41,882 - INFO - [92mThe error should indicate: 'peer auth failed' because we haven't yet added an entry to the 'pg_hba.conf' file for the user database and the md5 authentication method.[0m
2024-02-23 15:49:41,883 - INFO - [96mCalling[0m[93m create_database_and_confirm_creation.py[0m [96mservice -function[0m
2024-02-23 15:49:41,897 - INFO - [96mAttempting to connect to the following database:[0m
2024-02-23 15:49:41,897 - INFO - [94mdatabase:[0m[95m        'postgres'       [0m
2024-02-23 15:49:41,897 - INFO - [94muser:[0m[95m            'postgres'         [0m
2024-02-23 15:49:41,897 - INFO - [94mpassword:[0m[95m        'postgres'         [0m
2024-02-23 15:49:41,897 - INFO - [94mhost:[0m[95m            'localhost'         [0m
2024-02-23 15:49:41,897 - INFO - [94mport:[0m[95m            '5432'        [0m
2024-02-23 15:49:41,897 - INFO - [92mSuccessfully connected to the database.[0m
2024-02-23 15:49:41,897 - INFO - [96mAttempting to create database:[0m
2024-02-23 15:49:41,897 - INFO - [92mDatabase:[0m[95m      'project_google_reviews'[0m
2024-02-23 15:49:41,942 - INFO - [96mAttempting to confirm creation of database:[0m
2024-02-23 15:49:41,942 - INFO - [92mDatabase:[0m[95m      'project_google_reviews'[0m
2024-02-23 15:49:41,943 - INFO - [92mDatabase:[95m     'project_google_reviews'[0m [92m created successfully.[0m
2024-02-23 15:49:41,943 - INFO - [96mCalling[0m[93m stop_postgresql.py[0m [96mservice -function[0m
2024-02-23 15:49:41,943 - INFO - [96mExecuting stop_postgresql.sh script[0m
2024-02-23 15:49:42,013 - INFO - [92mPostgreSQL service stopped successfully.[0m
2024-02-23 15:49:42,013 - INFO - [96mCalling[0m[93m check_status_postgresql_service.py[0m [96mservice -function[0m
2024-02-23 15:49:42,013 - INFO - [96mExecuting check_status_postgresql_service.sh script[0m
2024-02-23 15:49:42,034 - INFO - [92mStatus check on postgreSQL service completed successfully.[0m
2024-02-23 15:49:42,035 - INFO - [96mCalling[0m[93m edit_pg_hba_postgresql_config_file.py.py[0m [96mservice -function[0m
2024-02-23 15:49:42,035 - INFO - [94mAttempting to add new entry within 'pg_hba.conf' postgreSQL authentication file:[0m
2024-02-23 15:49:42,035 - INFO - [96mDatabase:            [95mproject_google_reviews[0m
2024-02-23 15:49:42,035 - INFO - [96mUser:                [95mproject_google_reviews_usr[0m
2024-02-23 15:49:42,035 - INFO - [94mAttempting to add following line:[0m
2024-02-23 15:49:42,035 - INFO - [96mDatabase:            [95mproject_google_reviews[0m
2024-02-23 15:49:42,035 - INFO - [95m# TYPE  DATABASE  USER     ADDRESS     METHOD[0m
2024-02-23 15:49:42,035 - INFO - [95mlocal   project_google_reviews   project_google_reviews_usr   tmd5[0m
2024-02-23 15:49:42,035 - INFO - [92mLine added successfully to pg_hba.conf.[0m
2024-02-23 15:49:42,036 - INFO - [96mCalling[0m[93m restart_postgresql.py[0m [96mservice -function[0m
2024-02-23 15:49:42,036 - INFO - [96mExecuting restart_postgresql.sh script[0m
2024-02-23 15:49:48,595 - INFO - [92mPostgreSQL service restarted successfully.[0m
2024-02-23 15:49:48,595 - INFO - [96mCalling[0m[93m check_status_postgresql_service.py[0m [96mservice -function[0m
2024-02-23 15:49:48,595 - INFO - [96mExecuting check_status_postgresql_service.sh script[0m
2024-02-23 15:49:48,633 - INFO - [92mStatus check on postgreSQL service completed successfully.[0m
2024-02-23 15:49:48,634 - INFO - [96mCalling[0m[93m create_schema_new_database.py[0m [96mservice -function[0m
2024-02-23 15:49:48,634 - INFO - [94mAttempting to create specified schema for database:[0m
2024-02-23 15:49:48,634 - INFO - [96mDatabase:            [95mproject_google_reviews[0m
2024-02-23 15:49:48,744 - INFO - [94mOutput of creating schema for database [0m [95mproject_google_reviews:[0m
2024-02-23 15:49:48,744 - INFO - -- Create the project_google_reviews database
CREATE DATABASE project_google_reviews;
-- Connect to the project_google_reviews database
\c project_google_reviews;
You are now connected to database "project_google_reviews" as user "postgres".
-- Create the horca_parameters_client schema
CREATE SCHEMA IF NOT EXISTS horca_parameters_client;
CREATE SCHEMA
-- Create the horca_parameters_client.client_data table
CREATE TABLE IF NOT EXISTS horca_parameters_client.client_data (
    client_id SERIAL PRIMARY KEY,
    client_name TEXT NOT NULL,
    client_data JSONB NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE
-- Create the google_account_info schema
CREATE SCHEMA IF NOT EXISTS google_account_info;
CREATE SCHEMA
-- Create the google_account_info.account_data table
CREATE TABLE IF NOT EXISTS google_account_info.account_data (
    account_id SERIAL PRIMARY KEY,
    account_data JSONB NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE
-- Create the standard_strings_review schema
CREATE SCHEMA IF NOT EXISTS standard_strings_review;
CREATE SCHEMA
-- Create the standard_strings_review.standard_string table
CREATE TABLE IF NOT EXISTS standard_strings_review.standard_string_data (
    string_id SERIAL PRIMARY KEY,
    string_data JSONB NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE
-- Create the created_horeca_reviews schema
CREATE SCHEMA IF NOT EXISTS created_horeca_reviews;
CREATE SCHEMA
-- Create the created_horeca_reviews.reviews_data table
CREATE TABLE IF NOT EXISTS created_horeca_reviews.reviews_data (
    review_id SERIAL PRIMARY KEY,
    client_name TEXT NOT NULL,
    review_data JSONB NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    review_count INTEGER
);
CREATE TABLE
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA horca_parameters_client TO project_google_reviews_usr;
GRANT
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA google_account_info TO project_google_reviews_usr;
GRANT
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA standard_strings_review TO project_google_reviews_usr;
GRANT
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA created_horeca_reviews TO project_google_reviews_usr;
GRANT

2024-02-23 15:49:48,745 - INFO - [92mSchema for database: [0m[95mproject_google_reviews[0m[92m created successfully.[0m
2024-02-23 15:49:48,745 - INFO - [94mVerifying schema creation...[0m
2024-02-23 15:49:48,818 - INFO - [92mSchema:      [0m[95mhorca_parameters_client[0m[92m verified to be created successfully.[0m
2024-02-23 15:49:48,867 - INFO - [92mSchema:      [0m[95mgoogle_account_info[0m[92m verified to be created successfully.[0m
2024-02-23 15:49:48,916 - INFO - [92mSchema:      [0m[95mstandard_strings_review[0m[92m verified to be created successfully.[0m
2024-02-23 15:49:48,965 - INFO - [92mSchema:      [0m[95mcreated_horeca_reviews[0m[92m verified to be created successfully.[0m
2024-02-23 15:49:48,965 - INFO - [92mAll schemas created successfully![0m
2024-02-23 15:49:48,965 - INFO - [96mCalling[0m[93m verify_permissions_usr_db_granted.py[0m [96mservice -function[0m
2024-02-23 15:49:48,975 - INFO - [96mAttempting to connect to the following database:[0m
2024-02-23 15:49:48,976 - INFO - [94mdatabase:[0m[95m        'project_google_reviews'       [0m
2024-02-23 15:49:48,976 - INFO - [94muser:[0m[95m            'project_google_reviews_usr'         [0m
2024-02-23 15:49:48,976 - INFO - [94mpassword:[0m[95m        'Oo51knSSV3OSwfuy8WFu'         [0m
2024-02-23 15:49:48,976 - INFO - [94mhost:[0m[95m            'localhost'         [0m
2024-02-23 15:49:48,976 - INFO - [94mport:[0m[95m            '5432'        [0m
2024-02-23 15:49:48,976 - INFO - [92mSuccessfully connected to the database.[0m
2024-02-23 15:49:48,980 - INFO - [94mAttempting to check if all expected/needed privileges are granted to:[0m
2024-02-23 15:49:48,980 - INFO - [96mUser:                [95mproject_google_reviews_usr[0m
2024-02-23 15:49:48,980 - INFO - [96mOn Database:         [95mproject_google_reviews[0m
2024-02-23 15:49:48,980 - INFO - [92mAll expected privileges are present in the response.[0m
2024-02-23 15:49:48,981 - INFO - [94mPermissions:[0m
2024-02-23 15:49:48,981 - INFO - [96mDELETE    [95m	Allow to remove rows from a table.[0m
2024-02-23 15:49:48,981 - INFO - [96mINSERT    [95m	Allow to add new rows to a table.[0m
2024-02-23 15:49:48,981 - INFO - [96mREFERENCES[95m	Allow to create a foreign key constraint.[0m
2024-02-23 15:49:48,981 - INFO - [96mSELECT    [95m	Allow to retrieve data from a table.[0m
2024-02-23 15:49:48,981 - INFO - [96mTRIGGER   [95m	Allow to create triggers on a table.[0m
2024-02-23 15:49:48,981 - INFO - [96mTRUNCATE  [95m	Allow to remove all rows from a table.[0m
2024-02-23 15:49:48,981 - INFO - [96mUPDATE    [95m	Allow to modify existing rows in a table.[0m
2024-02-23 15:49:48,981 - INFO - [94mChecking if all services have returned 'True' to confirm successful creation of everything [0m
2024-02-23 15:49:48,981 - INFO - [96mCalling[0m[93m log_successful_creation_db_layout.py[0m [96mservice -function[0m
2024-02-23 15:49:48,982 - INFO - [93mSuccessfully created everything needed to access and utilise PostgreSQL datbase on following credentials:[0m 
2024-02-23 15:49:48,982 - INFO - [94mdatabase:[0m[95m        project_google_reviews       [0m
2024-02-23 15:49:48,982 - INFO - [94muser:[0m[95m            project_google_reviews_usr         [0m
2024-02-23 15:49:48,982 - INFO - [94mpassword:[0m[95m        Oo51knSSV3OSwfuy8WFu         [0m
2024-02-23 15:49:48,982 - INFO - [94mhost:[0m[95m            localhost         [0m
2024-02-23 15:49:48,982 - INFO - [94mport:[0m[95m            5432        [0m
2024-02-23 15:49:48,995 - INFO - [96mAttempting to connect to the following database:[0m
2024-02-23 15:49:48,995 - INFO - [94mdatabase:[0m[95m        'project_google_reviews'       [0m
2024-02-23 15:49:48,995 - INFO - [94muser:[0m[95m            'project_google_reviews_usr'         [0m
2024-02-23 15:49:48,995 - INFO - [94mpassword:[0m[95m        'Oo51knSSV3OSwfuy8WFu'         [0m
2024-02-23 15:49:48,995 - INFO - [94mhost:[0m[95m            'localhost'         [0m
2024-02-23 15:49:48,995 - INFO - [94mport:[0m[95m            '5432'        [0m
2024-02-23 15:49:48,995 - INFO - [92mSuccessfully connected to the database.[0m
2024-02-23 15:49:48,999 - INFO - [96mSuccessfully granted all privileges to user[95m 'project_google_reviews_usr'[0m[96m on corresponding database[0m[95m 'project_google_reviews':[0m
2024-02-23 15:49:48,999 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | INSERT[0m
2024-02-23 15:49:48,999 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | SELECT[0m
2024-02-23 15:49:48,999 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | UPDATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | DELETE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | TRUNCATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | REFERENCES[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | horca_parameters_client | client_data | TRIGGER[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | INSERT[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | SELECT[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | UPDATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | DELETE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | TRUNCATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | REFERENCES[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | google_account_info | account_data | TRIGGER[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | INSERT[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | SELECT[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | UPDATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | DELETE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | TRUNCATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | REFERENCES[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | standard_strings_review | standard_string_data | TRIGGER[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | INSERT[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | SELECT[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | UPDATE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | DELETE[0m
2024-02-23 15:49:49,000 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | TRUNCATE[0m
2024-02-23 15:49:49,001 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | REFERENCES[0m
2024-02-23 15:49:49,001 - INFO - [93m project_google_reviews_usr | created_horeca_reviews | reviews_data | TRIGGER[0m
2024-02-23 15:49:49,001 - INFO - [94mLayout of created database::[0m
2024-02-23 15:49:49,001 - INFO - [93m
# project_google_horeca_reviews                                                            (NAME DATABASE)
# â”‚
# â”œâ”€â”€ horca_parameters_client                                                              (NAME SCHEMA)
# â”‚   â””â”€â”€ client_data
# â”‚       â”œâ”€â”€ client_name (TXT)                                                                      (NAME TABLE)
# â”‚       â”œâ”€â”€ client_id (SERIAL)                                                           (NAME ID)
# â”‚       â”œâ”€â”€ client_data (JSONB)                                                          (NAME DATA)
# â”‚       â””â”€â”€ created_at (TIMESTAMP)                                                       (NAME TIME-CREATED)
# â”‚
# â”œâ”€â”€ google_account_info
# â”‚   â””â”€â”€ account_data
# â”‚       â”œâ”€â”€ account_id (SERIAL)
# â”‚       â”œâ”€â”€ account_data (JSONB)
# â”‚       â””â”€â”€ created_at (TIMESTAMP)
# â”‚
# â”œâ”€â”€ standard_strings_review
# â”‚   â””â”€â”€ standard_string_data
# â”‚       â”œâ”€â”€ string_id (SERIAL)
# â”‚       â”œâ”€â”€ string_data (JSONB)
# â”‚       â””â”€â”€ created_at (TIMESTAMP)
# â”‚
# â”‚
# â”‚
# â””â”€â”€ created_horeca_reviews
#     â””â”€â”€ reviews_data
#         â”œâ”€â”€ client_name (TXT)
#         â”œâ”€â”€ review_id (SERIAL)
#         â”œâ”€â”€ review_data (JSONB)
#         â””â”€â”€ created_at (TIMESTAMP)
#         â””â”€â”€ review_count (INTEGER)
[0m
